> JavaScript深入系列第四篇，具体讲解执行上下文中的变量对象与活动对象。全局上下文下的变量对象是什么？函数上下文下的活动对象是如何分析和执行的？还有两个思考题帮你加深印象，快来看看吧！

## 前言
---
在上篇《JavaScript深入之执行上下文栈》中讲到，当 JavaScript 代码执行一段可执行代码(executable code)时，会创建对应的执行上下文(execution context)。

对于每个执行上下文，都有三个重要属性：
+ 变量对象
+ 作用域链
+ this

今天重点讲讲创建变量对象的过程。

## 变量对象
---
变量对象是与执行上下文相关的数据作用域，存储了在上下文中定义的变量和函数声明。

因为不同执行上下文的变量对象稍有不同，所以我们来聊聊全局上下文下的变量对象和函数上下文下的变量对象。

## 全局上下文
---
我们先了解一个概念，叫全局对象。
> 全局对象是预定义的对象，作为 JavaScript 的全局函数和全局属性的占位符。通过使用全局对象，可以访问所有其他预定义的对象、函数和属性。

> 在顶层 JavaScript 代码中，可以用关键字 this 引用全局对象。因为全局对象是作用域链的头，这意味着所有非限定性的变量和函数名都会作为该对象的属性来查询。

> 例如，当 JavaScript 代码引用 parseInt() 函数时，它引用的是全局对象的 parseInt 属性。全局对象是作用域链的头，还意味着在顶层 JavaScript 代码中声明的所有变量都将成为全局对象的属性。

如果看的不是很懂的话，容我再来介绍下全局对象：

1、可以通过 this 引用，在客户端 JavaScript 中，全局对象就是 window 对象。
```
console.log(this)
```

2、全局对象是由 Object 构造函数实例化的一个对象。
```
console.log(this instanceof Object)
```

3、预定义了一堆，嗯，一大堆函数和属性。
```
// 都能生效
console.log(Math.random());
console.log(this.Math.random())
```

4、作为全局变量的宿主。
```
var a = 1;
console.log(this.a)
```

5、客户端 JavaScript 中，全局对象有 window 属性指向自身。
```
var a = 1;
console.log(window.a);

this.window.b = 2;
console.log(this.b)
```
花了一个大篇幅介绍全局对象，其实就想说：

全局上下文中的变量对象就是全局对象呐！